(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.dragula=n()}})(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t){"use strict";function r(n){var t=i[n];return t?t.lastIndex=0:i[n]=t=new RegExp(u+n+f,"g"),t}function e(n,t){var i=n.className;i.length?r(t).test(i)||(n.className+=" "+t):n.className=t}function o(n,t){n.className=n.className.replace(r(t)," ").trim()}var i={},u="(?:^|\\s)",f="(?:\\s|$)";t.exports={add:e,rm:o}},{}],2:[function(n,t){(function(i){"use strict";function g(n,t){function ht(n){return a.containers.indexOf(n)!==-1||i.isContainer(n)}function gt(n){var t=n?"remove":"add";h(u,t,"mousedown",vi);h(u,t,"mouseup",at)}function ct(n){var t=n?"remove":"add";h(u,t,"mousemove",yi)}function ni(n){var t=n?"remove":"add";o[t](u,"selectstart",ti);o[t](u,"click",ti)}function ai(){gt(!0);at({})}function ti(n){ot&&n.preventDefault()}function vi(n){var r,t,i;(kt=n.clientX,dt=n.clientY,r=l(n)!==1||n.metaKey||n.ctrlKey,r)||(t=n.target,i=lt(t),i)&&(ot=i,ct(),n.type==="mousedown"&&(b(t)?t.focus():n.preventDefault()))}function yi(n){var r,t;if(ot){if(l(n)===0){at({});return}if(n.clientX===void 0||n.clientX!==kt||n.clientY===void 0||n.clientY!==dt){if(i.ignoreInputTextSelection){var u=e("clientX",n),o=e("clientY",n),h=s.elementFromPoint(u,o);if(b(h))return}r=ot;ct(!0);ni();ri();ii(r);t=nt(rt);wt=e("pageX",n)-t.left;bt=e("pageY",n)-t.top;f.add(g||rt,"gu-transit");gi();pt(n)}}}function lt(n){var t,u,f;if((!a.dragging||!it)&&!ht(n)){for(t=n;r(n)&&ht(r(n))===!1;){if(i.invalid(n,t))return;if(n=r(n),!n)return}if(u=r(n),u)return i.invalid(n,t)?void 0:(f=i.moves(n,u,t,c(n)),!f)?void 0:{item:n,source:u}}}function pi(n){return!!lt(n)}function wi(n){var t=lt(n);t&&ii(t)}function ii(n){tr(n.item,n.source)&&(g=n.item.cloneNode(!0),a.emit("cloned",g,n.item,"copy"));k=n.source;rt=n.item;et=ft=c(n.item);a.dragging=!0;a.emit("drag",rt,k)}function bi(){return!1}function ri(){if(a.dragging){var n=g||rt;fi(n,r(n))}}function ui(){ot=!1;ct(!0);ni(!0)}function at(n){if(ui(),a.dragging){var f=g||rt,r=e("clientX",n),u=e("clientY",n),o=v(it,r,u),t=si(o,r,u);t&&(g&&i.copySortSource||!g||t!==k)?fi(f,t):i.removeOnSpill?ei():oi()}}function fi(n,t){var u=r(n);g&&i.copySortSource&&t===k&&u.removeChild(rt);yt(t)?a.emit("cancel",n,k,k):a.emit("drop",n,t,k,ft);vt()}function ei(){if(a.dragging){var n=g||rt,t=r(n);t&&t.removeChild(n);a.emit(g?"cancel":"remove",n,t,k);vt()}}function oi(n){if(a.dragging){var f=arguments.length>0?n:i.revertOnSpill,t=g||rt,u=r(t),e=yt(u);e===!1&&f&&(g?u&&u.removeChild(g):k.insertBefore(t,et));e||f?a.emit("cancel",t,k,k):a.emit("drop",t,u,k,ft);vt()}}function vt(){var n=g||rt;ui();nr();n&&f.rm(n,"gu-transit");st&&clearTimeout(st);a.dragging=!1;ut&&a.emit("out",n,ut,k);a.emit("dragend",n);k=rt=g=et=ft=st=ut=null}function yt(n,t){var i;return i=t!==void 0?t:it?ft:c(g||rt),n===k&&i===et}function si(n,t,u){function e(){var e=ht(f);if(e===!1)return!1;var o=hi(f,n),r=ci(f,o,t,u),s=yt(f,r);return s?!0:i.accepts(rt,f,k,r)}for(var f=n;f&&!e();)f=r(f);return f}function pt(n){function w(n){a.emit(n,u,ut,k)}function nt(){l&&w("over")}function tt(){ut&&w("out")}var o,f,y;if(it){n.preventDefault();var s=e("clientX",n),h=e("clientY",n),b=s-wt,d=h-bt;it.style.left=b+"px";it.style.top=d+"px";var u=g||rt,p=v(it,s,h),t=si(p,s,h),l=t!==null&&t!==ut;if((l||t===null)&&(tt(),ut=t,nt()),o=r(u),t===k&&g&&!i.copySortSource){o&&o.removeChild(u);return}if(y=hi(t,p),y!==null)f=ci(t,y,s,h);else{if(i.revertOnSpill!==!0||g){g&&o&&o.removeChild(u);return}f=et;t=k}(f===null&&l||f!==u&&f!==c(u))&&(ft=f,t.insertBefore(u,f),a.emit("shadow",u,t,k))}}function ki(n){f.rm(n,"gu-hide")}function di(n){a.dragging&&f.add(n,"gu-hide")}function gi(){if(!it){var n=rt.getBoundingClientRect();it=rt.cloneNode(!0);it.style.width=p(n)+"px";it.style.height=w(n)+"px";f.rm(it,"gu-transit");f.add(it,"gu-mirror");i.mirrorContainer.appendChild(it);h(u,"add","mousemove",pt);f.add(i.mirrorContainer,"gu-unselectable");a.emit("cloned",it,rt,"mirror")}}function nr(){it&&(f.rm(i.mirrorContainer,"gu-unselectable"),h(u,"remove","mousemove",pt),r(it).removeChild(it),it=null)}function hi(n,t){for(var i=t;i!==n&&r(i)!==n;)i=r(i);return i===u?null:i}function ci(n,t,r,u){function o(){for(var o=n.children.length,e,t,i=0;i<o;i++)if((e=n.children[i],t=e.getBoundingClientRect(),f&&t.left+t.width/2>r)||!f&&t.top+t.height/2>u)return e;return null}function s(){var n=t.getBoundingClientRect();return f?e(r>n.left+p(n)/2):e(u>n.top+w(n)/2)}function e(n){return n?c(t):t}var f=i.direction==="horizontal";return t!==n?s():o()}function tr(n,t){return typeof i.copy=="boolean"?i.copy:i.copy(n,t)}var li=arguments.length,it,k,rt,wt,bt,kt,dt,et,ft,g,st,ut,ot,i,a;if(li===1&&Array.isArray(n)===!1&&(t=n,n=[]),ut=null,i=t||{},i.moves===void 0&&(i.moves=y),i.accepts===void 0&&(i.accepts=y),i.invalid===void 0&&(i.invalid=bi),i.containers===void 0&&(i.containers=n||[]),i.isContainer===void 0&&(i.isContainer=tt),i.copy===void 0&&(i.copy=!1),i.copySortSource===void 0&&(i.copySortSource=!1),i.revertOnSpill===void 0&&(i.revertOnSpill=!1),i.removeOnSpill===void 0&&(i.removeOnSpill=!1),i.direction===void 0&&(i.direction="vertical"),i.ignoreInputTextSelection===void 0&&(i.ignoreInputTextSelection=!0),i.mirrorContainer===void 0&&(i.mirrorContainer=s.body),a=d({containers:i.containers,start:wi,end:ri,cancel:oi,remove:ei,destroy:ai,canMove:pi,dragging:!1}),i.removeOnSpill===!0)a.on("over",ki).on("out",di);return gt(),a}function h(n,t,r,u){i.navigator.pointerEnabled?o[t](n,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[r],u):i.navigator.msPointerEnabled?o[t](n,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[r],u):(o[t](n,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[r],u),o[t](n,r,u))}function l(n){if(n.touches!==void 0)return n.touches.length;if(n.which!==void 0&&n.which!==0)return n.which;if(n.buttons!==void 0)return n.buttons;var t=n.button;if(t!==void 0)return t&1?1:t&2?3:t&4?2:0}function nt(n){var t=n.getBoundingClientRect();return{left:t.left+a("scrollLeft","pageXOffset"),top:t.top+a("scrollTop","pageYOffset")}}function a(n,t){return typeof i[t]!="undefined"?i[t]:u.clientHeight?u[n]:s.body[n]}function v(n,t,i){var r=n||{},f=r.className,u;return r.className+=" gu-hide",u=s.elementFromPoint(t,i),r.className=f,u}function tt(){return!1}function y(){return!0}function p(n){return n.width||n.right-n.left}function w(n){return n.height||n.bottom-n.top}function r(n){return n.parentNode===s?null:n.parentNode}function b(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.tagName==="SELECT"||k(n)}function k(n){return n?n.contentEditable==="false"?!1:n.contentEditable==="true"?!0:k(r(n)):!1}function c(n){function t(){var t=n;do t=t.nextSibling;while(t&&t.nodeType!==1);return t}return n.nextElementSibling||t()}function it(n){return n.targetTouches&&n.targetTouches.length?n.targetTouches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n}function e(n,t){var i=it(t),r={pageX:"clientX",pageY:"clientY"};return n in r&&!(n in i)&&r[n]in i&&(n=r[n]),i[n]}var d=n("contra/emitter"),o=n("crossvent"),f=n("./classes"),s=document,u=s.documentElement;t.exports=g}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(n,t){t.exports=function(n,t){return Array.prototype.slice.call(n,t)}},{}],4:[function(n,t){"use strict";var i=n("ticky");t.exports=function(n,t,r){n&&i(function(){n.apply(r||null,t||[])})}},{ticky:9}],5:[function(n,t){"use strict";var i=n("atoa"),r=n("./debounce");t.exports=function(n,t){var f=t||{},u={};return n===undefined&&(n={}),n.on=function(t,i){return u[t]?u[t].push(i):u[t]=[i],n},n.once=function(t,i){i._once=!0;n.on(t,i);return n},n.off=function(t,i){var f=arguments.length,r;if(f===1)delete u[t];else if(f===0)u={};else{if(r=u[t],!r)return n;r.splice(r.indexOf(i),1)}return n},n.emit=function(){var t=i(arguments);return n.emitterSnapshot(t.shift()).apply(this,t)},n.emitterSnapshot=function(t){var e=(u[t]||[]).slice(0);return function(){var u=i(arguments),o=this||n;if(t==="error"&&f.throws!==!1&&!e.length)throw u.length===1?u[0]:u;return e.forEach(function(i){f.async?r(i,u,o):i.apply(o,u);i._once&&n.off(t,i)}),n}},n}},{"./debounce":4,atoa:3}],6:[function(n,t){(function(i){"use strict";function c(n,t,i,r){return n.addEventListener(t,i,r)}function l(n,t,i){return n.attachEvent("on"+t,w(n,t,i))}function a(n,t,i,r){return n.removeEventListener(t,i,r)}function v(n,t,i){var r=o(n,t,i);if(r)return n.detachEvent("on"+t,r)}function y(n,t,i){function f(){var n;return u.createEvent?(n=u.createEvent("Event"),n.initEvent(t,!0,!0)):u.createEventObject&&(n=u.createEventObject()),n}function e(){return new s(t,{detail:i})}var r=h.indexOf(t)===-1?e():f();n.dispatchEvent?n.dispatchEvent(r):n.fireEvent("on"+t,r)}function p(n,t,r){return function(t){var u=t||i.event;u.target=u.target||u.srcElement;u.preventDefault=u.preventDefault||function(){u.returnValue=!1};u.stopPropagation=u.stopPropagation||function(){u.cancelBubble=!0};u.which=u.which||u.keyCode;r.call(n,u)}}function w(n,t,i){var u=o(n,t,i)||p(n,t,i);return r.push({wrapper:u,element:n,type:t,fn:i}),u}function o(n,t,i){var u=b(n,t,i),f;if(u)return f=r[u].wrapper,r.splice(u,1),f}function b(n,t,i){for(var f,u=0;u<r.length;u++)if(f=r[u],f.element===n&&f.type===t&&f.fn===i)return u}var s=n("custom-event"),h=n("./eventmap"),u=i.document,f=c,e=a,r=[];i.addEventListener||(f=l,e=v);t.exports={add:f,remove:e,fabricate:y}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(n,t){(function(n){"use strict";var r=[],i="";for(i in n)/^on/.test(i)&&r.push(i.slice(2));t.exports=r}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],8:[function(n,t){(function(n){function r(){try{var n=new i("cat",{detail:{foo:"bar"}});return"cat"===n.type&&"bar"===n.detail.foo}catch(t){}return!1}var i=n.CustomEvent;t.exports=r()?i:"function"==typeof document.createEvent?function(n,t){var i=document.createEvent("CustomEvent");return t?i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail):i.initCustomEvent(n,!1,!1,void 0),i}:function(n,t){var i=document.createEventObject();return i.type=n,t?(i.bubbles=Boolean(t.bubbles),i.cancelable=Boolean(t.cancelable),i.detail=t.detail):(i.bubbles=!1,i.cancelable=!1,i.detail=void 0),i}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],9:[function(n,t){var r=typeof setImmediate=="function",i;i=r?function(n){setImmediate(n)}:function(n){setTimeout(n,0)};t.exports=i},{}]},{},[2])(2)});